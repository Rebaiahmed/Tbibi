angular.module("tbibi",["ionic","ionic-material","ngAnimate","ionic-datepicker","ionic-native-transitions","ionMdInput","ionic-modal-select","ngCordova","ion-floating-menu","ui.rCalendar","leaflet-directive","ngGeolocation","LocalStorageModule","ngPassword","LocalStorageModule","ionic-toast"]).run(["$ionicPlatform",function(e){e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault()})}]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("app",{url:"/app",abstract:!0,templateUrl:"templates2/menu.html"}).state("app.recherche",{url:"/search",abstract:!0,views:{menuContent:{templateUrl:"templates2/Recherche/TabsRecherche.html",controller:"RechercheCtrl"}},resolve:{getDocteurs:["RechercherSevice",function(e){return e.getDocteurs()}],getSpecialitees:["RechercherSevice",function(e){return e.getSpecialitees()}]}}).state("app.recherche.specialite",{url:"/specialite",views:{"pr-specialite":{templateUrl:"templates2/Recherche/RechercheSpecialite.html",controller:"RechercheCtrl"}}}).state("app.recherche.nom",{url:"/Nom",views:{"pr-nom":{templateUrl:"templates2/Recherche/RechercheParNom.html",controller:"RechercheCtrl"}}}).state("app.resultas",{url:"/resultats/:resultats",cache:!1,views:{menuContent:{templateUrl:"templates2/resultas.html",controller:"ResultatsCtrl"}}}).state("app.maps",{url:"/Maps/:Resultats",cache:!1,views:{menuContent:{templateUrl:"templates2/Maps.html",controller:"MapsCtrl",resolve:{}}}}).state("app.docteursDetails",{url:"/docteurDetails/:id",cache:!1,views:{menuContent:{templateUrl:"templates2/Docteur/Docteur.details.html",controller:"ResultatsCtrl",resolve:{getDocteur:["RechercherSevice","$stateParams",function(e,t){return e.RechercheDocteur(t.id)}]}}}}).state("app.rdvDetails",{url:"/rendezvousDetails/:nomRdvez",cache:!1,views:{menuContent:{templateUrl:"templates2/RendezVous.details.html",controller:"RdvsCtrl"}}}).state("app.espacePatientlogin",{url:"/loginClient",cache:!1,nativeTransitions:{type:"flip",direction:"up"},views:{menuContent:{templateUrl:"templates2/Client/espacePatient.login.html",controller:"clientLoginCtrl"}}}).state("app.espacePatientinscription",{url:"/inscriptionClient",cache:!1,views:{menuContent:{templateUrl:"templates2/Client/espacePatient.inscription.html",controller:"clientInscriptionCtrl"}}}).state("app.espacePraticienlogin",{url:"/loginPraticien",cache:!1,views:{menuContent:{templateUrl:"templates2/Docteur/espacePraticien.login.html",controller:"praticienLoginCtrl"}}}).state("app.espacePraticieninscription",{url:"/inscriptionPraticien",cache:!1,views:{menuContent:{templateUrl:"templates2/Docteur/espacePraticien.inscription.html",controller:"praticienInscriptionCtrl"}}}).state("app.dashaBordClient",{url:"/dashabordClient",cache:!1,views:{menuContent:{templateUrl:"templates2/Dashabord/tabs.html",controller:"dashabordClientCtrl"}}}).state("app.dashaBordClient.rendezvous",{url:"/rendezVousClient",views:{"home-tab":{templateUrl:"templates2/Dashabord/Client.RendezVous.html",controller:"dashabordClientCtrl"}}}).state("app.dashaBordClient.praticients",{url:"/paraticientssClient",views:{"about-tab":{templateUrl:"templates2/Dashabord/Client.praticients.html",controller:"dashabordClientCtrl"}}}).state("app.dashaBordClient.profile",{url:"/ProfileClient",views:{"contact-tab":{templateUrl:"templates2/Dashabord/Client.profile.html",controller:"dashabordClientCtrl"}}}).state("app.dashaBordPraticien",{url:"/dashabordPraticien",views:{menuContent:{templateUrl:"templates2/Dashabord2/tabs2.html",controller:"dashabordPraticienCtrl"}}}).state("app.dashaBordPraticien.rendezVous",{url:"/dashabordPraticien/rendezVous",views:{"pr-tab":{templateUrl:"templates2/Dashabord2/PraticienRendezVous.html",controller:"dashabordPraticienCtrl"}}}).state("app.dashaBordPraticien.clients",{url:"/dashabordPraticien/Clients",views:{"pc-tab":{templateUrl:"templates2/Dashabord2/PraticienClients.html",controller:"dashabordPraticienCtrl"}}}).state("app.dashaBordPraticien.profile",{url:"/dashabordPraticien/profile",views:{"pp-tab":{templateUrl:"templates2/Dashabord2/PraticientProfile.html",controller:"dashabordPraticienCtrl"}}}).state("app.contact",{url:"/contact",views:{menuContent:{templateUrl:"templates2/Contact.html"}}}).state("app.propos",{url:"/Apropos",views:{menuContent:{templateUrl:"templates2/Apropos.html"}}}),t.otherwise("app/search/specialite")}]).config(["ionicDatePickerProvider",function(e){var t={inputDate:new Date,setLabel:"Choisir",todayLabel:"Ajourdhui",closeLabel:"Fermer",mondayFirst:!1,weeksList:["S","M","T","W","T","F","S"],monthsList:["Jan","Feb","March","April","May","June","July","Aug","Sept","Oct","Nov","Dec"],templateType:"popup",from:new Date(2012,8,1),to:new Date(2018,8,1),showTodayButton:!0,dateFormat:"dd MMMM yyyy",closeOnSelect:!1};e.configDatePicker(t)}]).config(["$ionicNativeTransitionsProvider",function(e){e.setDefaultOptions({duration:400,slowdownfactor:4,iosdelay:-1,androiddelay:-1,winphonedelay:-1,fixedPixelsTop:0,fixedPixelsBottom:0,triggerTransitionEvent:"$ionicView.afterEnter",backInOppositeDirection:!1}),e.setDefaultTransition({type:"slide",direction:"left"})}]).run(["$rootScope","$templateCache","PatientService","DocteurService","RechercherSevice",function(e,t,o,n,i){e.$on("$viewContentLoaded",function(){t.removeAll()}),o.getPatient()?e.clientAuthenticated=!0:e.clientAuthenticated=!1,n.getDocteur()?e.praticientAuthenticated=!0:e.praticientAuthenticated=!1,i.getDocteurs()}]),angular.module("tbibi").service("PatientService",["$http","$q","localStorageService",function(e,t,o){var n="http://192.168.1.5/webservices";this.setPatient=function(e){o.set("client",JSON.stringify(e))},this.getPatient=function(){return o.get("client")},this.prendreRendezVous=function(t){return e({method:"post",url:n+"/prendreRendezVousClient.php",data:{id_patient:t.id_patient,id_praticien:t.id_praticien,date:t.date,time:t.time},headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})},this.logout=function(){return o.remove("client")},this.modifierProfile=function(t){return e({method:"post",url:n+"/modifierProfileClient.php",data:{id:t.id_patient,nom:t.nom_patient,prenom:t.prenom_patient,genre:t.genre,mobile:t.mobile_patient,dateNaissance:t.date_naissance},headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})},this.seConnecter=function(t){return e({method:"post",url:n+"/loginClient.php",data:{email:t.email,password:t.password},headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})},this.inscrire=function(t){return e({method:"post",url:n+"/inscrireClient.php",data:{email:t.email,password:t.password,nom:t.nom,prenom:t.prenom,genre:t.genre,mobile:t.mobile,domicile:t.domicile,bureau:t.bureau},headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})},this.refresh=function(t){return e({method:"post",url:n+"/refreshClient.php",data:{id:t},headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}}]).service("DocteurService",["$http","$q","localStorageService",function(e,t,o){var n="http://192.168.1.5/webservices";this.setPraticient=function(e){o.set("praticient",JSON.stringify(e))},this.getDocteur=function(){return o.get("praticient")},this.confirmerRendezVous=function(t){return e({method:"post",url:n+"/confirmezRdv.php",data:{idRdv:t.idRdv,idDoctor:t.idDoctor},headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})},this.RejeterRendezVous=function(t){return e({method:"post",url:n+"/RejeterRdv.php",data:{idRdv:t.idRdv,idDoctor:t.idDoctor},headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})},this.logout=function(){return o.remove("praticient")},this.modifierProfile=function(e){return 1},this.seConnecter=function(t){return e({method:"post",url:n+"/loginPraticient.php",data:{email:t.email,password:t.password},headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})},this.inscrire=function(t){return e({method:"post",url:n+"/inscrirePraticinet.php",data:{nom:t.nom,prenom:t.prenom,code:t.code},headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})},this.refresh=function(t){return e({method:"post",url:n+"/refreshServer.php",data:{id:t},headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}}]).service("RechercherSevice",["$http","$q",function(e,t){var o="http://192.168.1.5/webservices";this.getDocteurs=function(){var n=t.defer();return e.get(o+"/listeDocteurs.php").then(function(e){n.resolve(e.data)}).catch(function(e){n.reject(e)}),n.promise},this.getSpecialitees=function(){var n=(new Array,t.defer());return console.log("hello "),e.get(o+"/specialitees.php").then(function(e){n.resolve(e.data)}).catch(function(e){n.reject(e)}),n.promise},this.RechercheDocteur=function(n){var i=t.defer();return e({method:"post",url:o+"/getDocteurParNom.php",data:{id:n},headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).success(function(e){i.resolve(e)}).error(function(e){console.log("err"+e),i.reject(e)}),i.promise},this.getGouvernorats=function(){var n=(new Array,t.defer());return e.get(o+"/gouvernorats.php").then(function(e){n.resolve(e)}).catch(function(e){n.reject(e)}),n.promise},this.RechercheParCritere=function(t){return e({method:"post",url:o+"/RechercheDocteurs.php",data:{specialite:t.specialite,gouvernorat:t.gouvernorat,delegation:t.delegation},headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}}]).service("GeoSevice",["$http","$q","$cordovaGeolocation","localStorageService",function(e,t,o,n){}]),angular.module("tbibi").controller("AppCtrl",["$scope","$ionicModal","$ionicPopover","$timeout","$state",function(e,t,o,n,i){e.navigateTo=function(e){i.go(e)},e.loginData={},t.fromTemplateUrl("templates2/login.html",{scope:e}).then(function(t){e.modal=t}),e.closeLogin=function(){e.modal.hide()},e.login=function(){e.modal.show()}}]).controller("RechercheCtrl",["$scope","$timeout","$ionicPopover","$ionicLoading","$ionicModal","$state","RechercherSevice","$filter","getDocteurs","getSpecialitees",function(e,t,o,n,i,a,r,c,s,l){i.fromTemplateUrl("templates2/modal.html",{scope:e,animation:"slide-in-up",focusFirstInput:!0}).then(function(t){e.modal=t}),e.openModal=function(){e.modal.show()},e.closeModal=function(){e.modal.hide()},e.$on("$destroy",function(){e.modal.remove()}),e.$on("modal.hidden",function(){}),e.$on("modal.removed",function(){}),o.fromTemplateUrl("templates2/popover.html",{scope:e}).then(function(t){e.popover=t}),e.data={},e.data.specialite="",e.data.gouvernorat="",e.data.delegation="",e.doctor={},e.specialites=[],e.searchDoc={},e.errorDoctor=!1,e.errorSpecilaite=!1,angular.forEach(l,function(t,o){t=angular.fromJson(t),e.specialites[o]=t.specialite}),e.gouvernorats=["Ariana","Ben Arous","Mannouba","Tunis"],e.delegations=["Ariana Ville","Ariana Nouvelle","Ariana Sup","El Menzah 9"],e.docteurs=[];var d={};angular.forEach(s,function(t,o){t=angular.fromJson(t),d.id=t.id_praticien,d.prenom_praticien=t.prenom_praticien,d.nom_praticien=t.nom_praticien,e.docteurs[o]=d,d={}}),e.rechercheParCritere=function(){n.show({content:"Loading",animation:"fade-in",showBackdrop:!0,maxWidth:200,showDelay:0}),e.data.specialite?r.RechercheParCritere(e.data).then(function(t){n.hide(),0==t.data.Number?e.openModal():a.go("app.resultas",{resultats:JSON.stringify(t.data)})}).catch(function(e){n.hide(),console.log("eer"+JSON.stringify(e))}):(e.errorSpecilaite=!0,n.hide())},e.rechercheParNom=function(){n.show({content:"Loading",animation:"fade-in",showBackdrop:!0,maxWidth:200,showDelay:0}),e.data.doctor?r.RechercheDocteur(e.data.doctor.id).then(function(t){n.hide(),t?a.go("app.docteursDetails",{id:t.id_praticien}):e.openModal()}).catch(function(e){n.hide(),console.log("err"+e)}):(e.errorDoctor=!0,n.hide())}}]).controller("ResultatsCtrl",["$scope","$ionicLoading","$timeout","$stateParams","$state","localStorageService",function(e,t,o,n,i,a){if(e.$on("$ionicView.beforeEnter",function(){console.log("Running stuff..."),t.show({template:'<ion-spinner icon="dots"></ion-spinner>',hideOnStageChange:!0,animation:"fade-in",showBackdrop:!0,maxWidth:200,showDelay:0}),o(function(){t.hide()},2e3)}),n.resultats=angular.fromJson(n.resultats),e.Resultats=[],n.resultats)for(var r=0;r<n.resultats.Number;r++)e.Resultats[r]=angular.fromJson(n.resultats.Resultats[r]);e.gotoDocteurDetails=function(e){i.go("app.docteursDetails",{id:e})},e.goMpas=function(){console.log("go to maps !"),i.go("app.maps",{Resultats:JSON.stringify(e.Resultats)})}}]).controller("MapsCtrl",["$stateParams","$http","$scope",function(e,t,o){var n,i;if(e.Resultats=angular.fromJson(e.Resultats),console.log("params are"+e.Resultats.length),o.Resultats=[],e.Resultats)for(var a=0;a<e.Resultats.length;a++)o.Resultats[a]=e.Resultats[a];angular.extend(o,{center:{lat:36.7908,lng:10.1112,zoom:10},layers:{baselayers:{osm:{name:"OpenStreetMap",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",type:"xyz"}},overlays:{earthquake:{name:"earthquake",type:"markercluster",visible:!0}}}}),o.markers=[];for(var a=0;a<o.Resultats.length;a++)n=parseFloat(o.Resultats[a].latitude),i=parseFloat(o.Resultats[a].longitude),console.log("i"+n+" long"+i),o.markers[a]={lat:n,lng:i,message:" "+o.Resultats[a].nom_praticien+" "+o.Resultats[a].prenom_praticien+"</br>Tel:"+o.Resultats[a].phone__fixe_praticien+"</br>Specialite :"+o.Resultats[a].specialite,focus:!0,draggable:!1};angular.extend(o,{markers:o.markers})}]).controller("clientLoginCtrl",["$scope","$ionicLoading","$timeout","PatientService","$state","$rootScope",function(e,t,o,n,i,a){e.$on("$ionicView.beforeEnter",function(){console.log("clien tlogin client..."),t.show({template:'<ion-spinner icon="dots"></ion-spinner>',hideOnStageChange:!0,animation:"fade-in",showBackdrop:!0,maxWidth:200,showDelay:0}),o(function(){t.hide()},2e3)}),e.submitted=!1,e.emailInexistant=!1,e.passwordInvalide=!1,e.client={},e.loginClient=function(o){e.submitted=!0,o&&(t.show({content:"Loading",animation:"fade-in",showBackdrop:!0,maxWidth:200,showDelay:0}),n.seConnecter(e.client).then(function(o){console.log("client"+JSON.stringify(o.data)),t.hide(),404==o.data.error.code?(console.log("error in submit"),e.emailInexistant=!0):(console.log("client logged"),a.clientAuthenticated=!0,n.setPatient(o.data),i.go("app.dashaBordClient"))}).catch(function(e){t.hide()}))}}]).controller("clientInscriptionCtrl",["$scope","ionicDatePicker","$ionicLoading","$timeout","PatientService","$rootScope","$state","$ionicModal",function(e,t,o,n,i,a,r,c){e.$on("$ionicView.beforeEnter",function(){console.log("client inscription client..."),o.show({template:'<ion-spinner icon="dots"></ion-spinner>',hideOnStageChange:!0,animation:"fade-in",showBackdrop:!0,maxWidth:200,showDelay:0}),n(function(){o.hide()},2e3)}),c.fromTemplateUrl("templates2/EmailInvalide.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.modal=t}),e.openModal=function(){e.modal.show()},e.closeModal=function(){e.modal.hide()},e.$on("$destroy",function(){e.modal.remove()}),e.$on("modal.hidden",function(){}),e.$on("modal.removed",function(){}),e.newClient={};var s={callback:function(t){console.log("Return value from the datepicker popup is : "+t,new Date(t)),e.newClient.dateNaissance=new Date(t),console.log("the date is"+typeof e.newClient.dateNaissance)},from:new Date(1940,1,1),to:new Date(2016,10,30),inputDate:new Date,mondayFirst:!0,closeOnSelect:!0,templateType:"popup"};e.openDatePicker=function(){t.openDatePicker(s)},e.accept1=!0,e.accept2=!0,e.phNumber="^[1-9][0-9]{7}$",e.submitted=!1,e.inscrireClient=function(t){e.submitted=!0,t&&(o.show({content:"Loading",animation:"fade-in",showBackdrop:!0,maxWidth:200,showDelay:0}),i.inscrire(e.newClient).then(function(t){o.hide(),console.log("data"+(401==t.data.error.code)),401==t.data.error.code?e.openModal():(console.log("success dinscription"),a.clientAuthenticated=!0,i.setPatient(t.data),r.go("app.dashaBordClient"))}).catch(function(e){o.hide(),console.log("erreur"+JSON.stringify(e))}))}}]).controller("praticienLoginCtrl",["$scope","$timeout","$ionicLoading","DocteurService","$rootScope","$state",function(e,t,o,n,i,a){e.submitted=!1,e.emailInexistant=!1,e.passwordInvalide=!1,e.praticient={},e.loginPraticient=function(t){console.log("form pratcine tlogin"+t),e.submitted=!0,t&&(o.show({content:"Loading",animation:"fade-in",showBackdrop:!0,maxWidth:200,showDelay:0}),n.seConnecter(e.praticient).then(function(t){o.hide(),console.log("patrticn"+JSON.stringify(t.data)),404==t.data.error.code?e.emailInexistant=!0:(console.log("praticne logged"),n.setPraticient(t.data),i.praticientAuthenticated=!0,a.go("app.dashaBordPraticien"))}).catch(function(e){console.log("err"+e)}))}}]).controller("praticienInscriptionCtrl",["$scope","$ionicModal","$timeout","DocteurService","$ionicLoading","$rootScope","$state",function(e,t,o,n,i,a,r){e.$on("$ionicView.beforeEnter",function(){console.log("praticien login..."),i.show({template:'<ion-spinner icon="dots"></ion-spinner>',hideOnStageChange:!0,animation:"fade-in",showBackdrop:!0,maxWidth:200,showDelay:0}),o(function(){i.hide()},2e3)}),e.submitted=!1,e.codeInvalide=!1,e.newDocteur={},e.inscrireDocteur=function(t){e.submitted=!0,t&&(i.show({template:'<ion-spinner icon="dots"></ion-spinner>',hideOnStageChange:!0,animation:"fade-in",showBackdrop:!0,maxWidth:200,showDelay:0}),n.inscrire(e.newDocteur).then(function(t){i.hide(),console.log("result"+JSON.stringify(t.data)),401==t.data.error.code?(console.log("invalide code"),e.codeInvalide=!0):(console.log("praticne logged"),n.setPraticient(t.data),a.praticientAuthenticated=!0,r.go("app.dashaBordPraticien"))}).catch(function(e){i.hide(),console.log("err"+e)}))}}]).controller("dashabordClientCtrl",["$scope","$ionicModal","$timeout","ionicMaterialMotion","ionicMaterialInk","$ionicLoading","$ionicHistory","PatientService","ionicToast","$state","$rootScope","ionicDatePicker",function(e,t,o,n,i,a,r,c,s,l,d,p){e.$on("$ionicView.beforeEnter",function(){console.log("praticien login..."),a.show({template:'<ion-spinner icon="dots"></ion-spinner>',hideOnStageChange:!0,animation:"fade-in",showBackdrop:!0,maxWidth:200,showDelay:0}),o(function(){a.hide()},2e3)}),e.phNumber="^[1-9][0-9]{7}$";var u={callback:function(t){console.log("Return value from the datepicker popup is : "+t,new Date(t)),e.Client.userData.date_naissance=new Date(t)},from:new Date(1940,1,1),to:new Date(2016,10,30),mondayFirst:!0,closeOnSelect:!0,templateType:"popup"};e.openDatePicker=function(){p.openDatePicker(u)},c.getPatient()&&(e.Client=JSON.parse(c.getPatient()),console.log("date de naisiance est ",e.Client.userData.date_naissance),e.Client.userData.date_naissance=new Date(e.Client.userData.date_naissance)),e.modifierProfile=function(t){e.submitted=!0,a.show({template:'<ion-spinner icon="dots"></ion-spinner>',hideOnStageChange:!0,animation:"fade-in",showBackdrop:!0,maxWidth:200,showDelay:0}),t&&(console.log("date de anissane",JSON.stringify(e.Client.userData)),c.modifierProfile(e.Client.userData).then(function(t){a.hide(),console.log("result is"+JSON.stringify(t.data)),c.setPatient(t.data),e.Client=JSON.parse(c.getPatient()),e.Client.userData.date_naissance=new Date(e.Client.userData.date_naissance),s.show("Votre profile a été modifié avec succées ","top",!0,2500)}).catch(function(e){a.hide(),s.show("Erreur veuillez réssayez plus tard ! ","top",!0,2500),console.log("err"+JSON.stringify(e))}))},e.logout=function(){c.logout(),s.show("Deconnecter","top",!0,2500),d.clientAuthenticated=!1,l.go("app.recherche.specialite")},e.Refresh=function(){a.show({content:"Loading",animation:"fade-in",showBackdrop:!0,maxWidth:200,showDelay:0}),c.refresh(e.Client.userData.id_patient).then(function(t){a.hide(),c.setPatient(t.data),e.Client=JSON.parse(c.getPatient()),e.Client.userData.date_naissance=new Date(e.Client.userData.date_naissance)}).catch(function(e){console.log("err"+e)})}}]).controller("dashabordPraticienCtrl",["$scope","$ionicModal","$timeout","$ionicLoading","$ionicHistory","DocteurService","$rootScope","$state","ionicToast",function(e,t,o,n,i,a,r,c,s){e.$on("$ionicView.beforeEnter",function(){console.log("praticien login..."),n.show({template:'<ion-spinner icon="dots"></ion-spinner>',hideOnStageChange:!0,animation:"fade-in",showBackdrop:!0,maxWidth:200,showDelay:0}),o(function(){n.hide()},2e3)}),a.getDocteur()&&(e.Docteur=JSON.parse(a.getDocteur())),e.checked=!1,e.refused=!1,e.confirmerRendezVous=function(t){l.idRdv=t,l.idDoctor=e.Docteur.userData.id_praticien,n.show({template:'<ion-spinner icon="dots"></ion-spinner>',hideOnStageChange:!0,animation:"fade-in",showBackdrop:!0,maxWidth:200,showDelay:0}),a.confirmerRendezVous(l).then(function(t){console.log("result"+JSON.stringify(t)),n.hide(),a.setPraticient(t.data),e.Docteur=JSON.parse(a.getDocteur()),e.refused=!0,s.show("le Rendez Vous est confirmee.","top",!0,2500)}).catch(function(e){console.log("err"+e)})};var l={};console.log("ddhhdhdhdhdhhd"+JSON.stringify(e.Docteur)),e.rejeterRendezVous=function(t){l.idRdv=t,l.idDoctor=e.Docteur.userData.id_praticien,n.show({template:'<ion-spinner icon="dots"></ion-spinner>',hideOnStageChange:!0,animation:"fade-in",showBackdrop:!0,maxWidth:200,showDelay:0}),a.RejeterRendezVous(l).then(function(t){n.hide(),a.setPraticient(t.data),e.Docteur=JSON.parse(a.getDocteur()),e.refused=!0,s.show("le Rendez Vous est Rejetée.","top",!0,2500)}).catch(function(e){console.log("err"+e)})},e.submitted=!1,e.modifierProfile=function(t){console.log("ok ok ok"),e.submitted=!0},e.logout=function(){a.logout(),s.show("Deconnecter","top",!0,2500),r.praticientAuthenticated=!1,c.go("app.recherche.specialite")},e.refresh=function(){n.show({content:"Loading",animation:"fade-in",showBackdrop:!0,maxWidth:200,showDelay:0}),a.refresh(e.Docteur.userData.id_praticien).then(function(t){console.log("data are"+JSON.stringify(t)),n.hide(),a.setPraticient(t.data),e.Docteur=JSON.parse(a.getDocteur())}).catch(function(e){console.log("err"+e)})}}]).controller("DocteurDetailsCtrl",["$scope","$ionicModal","$timeout","$cordovaCalendar","getDocteur","PatientService","$ionicSlideBoxDelegate","ionicDatePicker","$ionicPopup",function(e,t,o,n,i,a,r,c,s){}]).controller("RdvsCtrl",["$scope","$ionicModal","$timeout",function(e,t,o){e.RendezVous=""}]);