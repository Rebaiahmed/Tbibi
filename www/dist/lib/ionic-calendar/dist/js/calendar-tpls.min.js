angular.module("ui.rCalendar.tpls",["templates2/rcalendar/calendar.html","templates2/rcalendar/day.html","templates2/rcalendar/month.html","templates2/rcalendar/week.html"]),angular.module("ui.rCalendar",["ui.rCalendar.tpls"]).constant("calendarConfig",{formatDay:"dd",formatDayHeader:"EEE",formatDayTitle:"MMMM dd, yyyy",formatWeekTitle:"MMMM yyyy, Week w",formatMonthTitle:"MMMM yyyy",formatWeekViewDayHeader:"EEE d",formatHourColumn:"ha",calendarMode:"month",showEventDetail:!0,startingDayMonth:0,startingDayWeek:0,allDayLabel:"all day",noEventsLabel:"No Events",eventSource:null,queryMode:"local",step:60}).controller("ui.rCalendar.CalendarController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","calendarConfig","$timeout","$ionicSlideBoxDelegate",function(e,t,a,n,l,s,d,i,r){"use strict";function v(e,t){var a=e,n=t;return(e.startIndex>t.startIndex||e.startIndex===t.startIndex&&e.startOffset>t.startOffset)&&(a=t,n=e),!(a.endIndex<=n.startIndex)&&!(a.endIndex-n.startIndex===1&&a.endOffset+n.startOffset>w.hourParts)}function c(e){var t,a,n,l=e.length,s=0,d=new Array(l);for(t=0;l>t;t+=1){for(n=0;s>n;n+=1)d[n]=!1;for(a=0;t>a;a+=1)v(e[t],e[a])&&(d[e[a].position]=!0);for(n=0;s>n&&d[n];n+=1);s>n?e[t].position=n:e[t].position=s++}}function o(e){var t,a,n,l,s,d,i,r=new Array(24);for(e.sort(function(e,t){return t.position-e.position}),n=0;24>n;n+=1)r[n]={calculated:!1,events:[]};for(s=e.length,n=0;s>n;n+=1)for(t=e[n],a=t.startIndex;a<t.endIndex;)r[a].events.push(t),a+=1;for(n=0;s>n;){if(t=e[n],!t.overlapNumber){var v=t.position+1;t.overlapNumber=v;for(var c=[t];t=c.shift();)for(a=t.startIndex;a<t.endIndex;){if(!r[a].calculated&&(r[a].calculated=!0,r[a].events))for(d=r[a].events.length,l=0;d>l;l+=1)i=r[a].events[l],i.overlapNumber||(i.overlapNumber=v,c.push(i));a+=1}}n+=1}}function g(t,a){var n,l=w.mode.step,s=new Date(t),d=s.getFullYear()+a*(l.years||0),i=s.getMonth()+a*(l.months||0),r=s.getDate()+a*(l.days||0);return s.setFullYear(d,i,r),"month"===e.calendarMode&&(n=new Date(d,i+1,1),n.getTime()<=s.getTime()&&(s=new Date(n-864e5))),s}var w=this,h={$setViewValue:angular.noop};if(angular.forEach(["formatDay","formatDayHeader","formatDayTitle","formatWeekTitle","formatMonthTitle","formatWeekViewDayHeader","formatHourColumn","allDayLabel","noEventsLabel","showEventDetail","eventSource","queryMode","step","startingDayMonth","startingDayWeek"],function(a,l){w[a]=angular.isDefined(t[a])?9>l?n(t[a])(e.$parent):e.$parent.$eval(t[a]):d[a]}),w.hourParts=1,60!==w.step&&30!==w.step&&15!==w.step)throw new Error("Invalid step parameter: "+w.step);w.hourParts=Math.floor(60/w.step),e.$parent.$watch(t.eventSource,function(e){w.onEventSourceChanged(e)}),e.calendarMode=e.calendarMode||d.calendarMode,angular.isDefined(t.initDate)&&(w.currentCalendarDate=e.$parent.$eval(t.initDate)),w.currentCalendarDate||(w.currentCalendarDate=new Date,t.ngModel&&!e.$parent.$eval(t.ngModel)&&a(t.ngModel).assign(e.$parent,w.currentCalendarDate)),w.init=function(e){h=e,h.$render=function(){w.render()}},w.render=function(){if(h.$modelValue){var e=new Date(h.$modelValue),t=!isNaN(e);t?this.currentCalendarDate=e:l.error('"ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),h.$setValidity("date",t)}this.refreshView()},w.refreshView=function(){this.mode&&(this.range=this._getRange(this.currentCalendarDate),e.titleChanged&&e.titleChanged({title:w._getTitle()}),this._refreshView(),this.rangeChanged())},w.split=function(e,t){for(var a=[];e.length>0;)a.push(e.splice(0,t));return a},w.onEventSourceChanged=function(e){w.eventSource=e,w._onDataLoaded&&w._onDataLoaded()},w.getAdjacentViewStartTime=function(e){var t=g(w.currentCalendarDate,e);return w._getRange(t).startTime},w.move=function(e){w.direction=e,w.moveOnSelected?w.moveOnSelected=!1:w.currentCalendarDate=g(w.currentCalendarDate,e),h.$setViewValue(w.currentCalendarDate),w.refreshView(),w.direction=0},w.rangeChanged=function(){"local"===w.queryMode?w.eventSource&&w._onDataLoaded&&w._onDataLoaded():"remote"===w.queryMode&&e.rangeChanged&&e.rangeChanged({startTime:this.range.startTime,endTime:this.range.endTime})},w.registerSlideChanged=function(e){e.currentViewIndex=0,e.slideChanged=function(t){i(function(){var a=e.currentViewIndex,n=0;t-a===1||0===t&&2===a?n=1:(a-t===1||2===t&&0===a)&&(n=-1),a=t,e.currentViewIndex=a,w.move(n),e.$digest()},200)}},w.populateAdjacentViews=function(e){var t,a,n,l=e.currentViewIndex,s=this._getViewData;1===w.direction?(t=w.getAdjacentViewStartTime(1),n=(l+1)%3,angular.copy(s(t),e.views[n])):-1===w.direction?(t=w.getAdjacentViewStartTime(-1),n=(l+2)%3,angular.copy(s(t),e.views[n])):e.views?(t=w.range.startTime,angular.copy(s(t),e.views[l]),t=w.getAdjacentViewStartTime(-1),n=(l+2)%3,angular.copy(s(t),e.views[n]),t=w.getAdjacentViewStartTime(1),n=(l+1)%3,angular.copy(s(t),e.views[n])):(a=[],t=w.range.startTime,a.push(s(t)),t=w.getAdjacentViewStartTime(1),a.push(s(t)),t=w.getAdjacentViewStartTime(-1),a.push(s(t)),e.views=a)},w.placeEvents=function(e){c(e),o(e)},w.placeAllDayEvents=function(e){c(e)},w.slideView=function(t){var a=r.$getByHandle(e.calendarMode+"view-slide");a&&(1===t?a.next():-1===t&&a.previous())}}]).directive("calendar",function(){"use strict";return{restrict:"EA",replace:!0,templateUrl:"templates2/rcalendar/calendar.html",scope:{calendarMode:"=",rangeChanged:"&",eventSelected:"&",timeSelected:"&",titleChanged:"&"},require:["calendar","?^ngModel"],controller:"ui.rCalendar.CalendarController",link:function(e,t,a,n){var l=n[0],s=n[1];s&&l.init(s),e.$on("changeDate",function(e,t){l.slideView(t)}),e.$on("eventSourceChanged",function(e,t){l.onEventSourceChanged(t)})}}}).directive("monthview",["dateFilter",function(e){"use strict";return{restrict:"EA",replace:!0,templateUrl:"templates2/rcalendar/month.html",require:["^calendar","?^ngModel"],link:function(t,a,n,l){function s(e,t){var a=new Array(t),n=new Date(e),l=0;for(n.setHours(12);t>l;)a[l++]=new Date(n),n.setDate(n.getDate()+1);return a}function d(t,a){return{date:t,label:e(t,a)}}function i(e,a){var n,l=v.currentCalendarDate,s=new Date,d=864e5,i=Math.floor((l.getTime()-e.getTime())/d),r=Math.floor((s.getTime()-e.getTime())/d);for(n=0;42>n;n+=1)a.dates[n].selected=!1;i>=0&&42>i?(a.dates[i].selected=!0,t.selectedDate=a.dates[i]):t.selectedDate={events:[]},r>=0&&42>r&&(a.dates[r].current=!0)}function r(e,t){return e.allDay?1:t.allDay?-1:e.startTime.getTime()-t.startTime.getTime()}var v=l[0],c=l[1];t.showEventDetail=v.showEventDetail,t.formatDayHeader=v.formatDayHeader,v.mode={step:{months:1}},t.noEventsLabel=v.noEventsLabel,t.select=function(e,a){var n,l,s=t.views;if(s){n=s[t.currentViewIndex].dates;var d=v.currentCalendarDate,i=d.getMonth(),r=d.getFullYear(),o=e.getMonth(),g=e.getFullYear(),w=0;if(r===g?i!==o&&(w=o>i?1:-1):w=g>r?1:-1,v.currentCalendarDate=e,0===w){v.currentCalendarDate=e,c&&c.$setViewValue(e);var h=v.range.startTime,u=864e5,f=Math.floor((e.getTime()-h.getTime())/u);for(l=0;42>l;l+=1)n[l].selected=!1;f>=0&&42>f&&(n[f].selected=!0,t.selectedDate=n[f])}else v.moveOnSelected=!0,v.slideView(w);t.timeSelected&&t.timeSelected({selectedTime:e,events:a})}},t.getHighlightClass=function(e){var t="";return e.hasEvent&&(t=e.secondary?"monthview-secondary-with-event":"monthview-primary-with-event"),e.selected&&(t&&(t+=" "),t+="monthview-selected"),e.current&&(t&&(t+=" "),t+="monthview-current"),e.secondary&&(t&&(t+=" "),t+="text-muted"),t},v._getTitle=function(){var t=v.range.startTime,a=t.getDate(),n=(t.getMonth()+(1!==a?1:0))%12,l=t.getFullYear()+(1!==a&&0===n?1:0),s=new Date(l,n,1);return e(s,v.formatMonthTitle)},v._getViewData=function(e){for(var t=e,a=t.getDate(),n=(t.getMonth()+(1!==a?1:0))%12,l=s(t,42),i=0;42>i;i++)l[i]=angular.extend(d(l[i],v.formatDay),{secondary:l[i].getMonth()!==n});return{dates:l}},v._refreshView=function(){v.populateAdjacentViews(t),i(v.range.startTime,t.views[t.currentViewIndex])},v._onDataLoaded=function(){for(var e=v.eventSource,a=e?e.length:0,n=v.range.startTime,l=v.range.endTime,s=-(new Date).getTimezoneOffset(),d=new Date(n.getTime()+60*s*1e3),i=new Date(l.getTime()+60*s*1e3),c=t.currentViewIndex,o=t.views[c].dates,g=864e5,w=.001,h=0;42>h;h+=1)o[h].hasEvent&&(o[h].hasEvent=!1,o[h].events=[]);for(var u=0;a>u;u+=1){var f,m,b=e[u],y=new Date(b.startTime),p=new Date(b.endTime);if(b.allDay){if(d>=p||y>=i)continue;f=d,m=i}else{if(n>=p||y>=l)continue;f=n,m=l}var D;D=f>=y?0:(y-f)/g;var k;k=p>=m?(m-f)/g:(p-f)/g;for(var C,x=Math.floor(D);k-w>x;)o[x].hasEvent=!0,C=o[x].events,C?C.push(b):(C=[],C.push(b),o[x].events=C),x+=1}for(h=0;42>h;h+=1)o[h].hasEvent&&o[h].events.sort(r);var T=!1;for(h=0;42>h;h+=1){if(o[h].selected){t.selectedDate=o[h],T=!0;break}if(T)break}},v._getRange=function(e){var t,a=e.getFullYear(),n=e.getMonth(),l=new Date(a,n,1),s=v.startingDayMonth-l.getDay(),d=s>0?7-s:-s,i=new Date(l);return d>0&&i.setDate(-d+1),t=new Date(i),t.setDate(t.getDate()+42),{startTime:i,endTime:t}},v.registerSlideChanged(t),v.refreshView()}}}]).directive("weekview",["dateFilter",function(e){"use strict";return{restrict:"EA",replace:!0,templateUrl:"templates2/rcalendar/week.html",require:"^calendar",link:function(t,a,n,l){function s(e,t){var a=new Array(t),n=new Date(e),l=0;for(n.setHours(12);t>l;)a[l++]={date:new Date(n)},n.setDate(n.getDate()+1);return a}function d(e){for(var t,a,n=[],l=e.getHours(),s=e.getDate(),d=0;24>d;d+=1){t=[];for(var i=0;7>i;i+=1)a=new Date(e.getTime()),a.setHours(l+d),a.setDate(s+i),t.push({time:a});n.push(t)}return n}function i(e,t){return e.startOffset-t.startOffset}function r(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var a=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((a-t)/864e5)/7)+1}t.formatWeekViewDayHeader=l.formatWeekViewDayHeader,t.formatHourColumn=l.formatHourColumn,l.mode={step:{days:7}},t.allDayLabel=l.allDayLabel,t.hourParts=l.hourParts,l._getTitle=function(){var t,a,n=l.range.startTime,s="w";return t=l.formatWeekTitle.indexOf(s),a=e(n,l.formatWeekTitle),-1!==t&&(a=a.replace(s,r(n))),a},t.select=function(e,a){t.timeSelected&&t.timeSelected({selectedTime:e,events:a})},l._getViewData=function(e){return{rows:d(e),dates:s(e,7)}},l._refreshView=function(){l.populateAdjacentViews(t)},l._onDataLoaded=function(){var e,a,n,s,d=l.eventSource,r=d?d.length:0,v=l.range.startTime,c=l.range.endTime,o=-(new Date).getTimezoneOffset(),g=new Date(v.getTime()+6e4*o),w=new Date(c.getTime()+6e4*o),h=t.currentViewIndex,u=t.views[h].rows,f=t.views[h].dates,m=36e5,b=864e5,y=.016,p=!1,D=!1;for(e=0;7>e;e+=1)f[e].events=[];for(a=0;7>a;a+=1)for(n=0;24>n;n+=1)u[n][a].events=[];for(e=0;r>e;e+=1){var k=d[e],C=new Date(k.startTime),x=new Date(k.endTime);if(k.allDay){if(g>=x||C>=w)continue;p=!0;var T;T=g>=C?0:Math.floor((C-g)/b);var H;H=x>=w?Math.ceil((w-g)/b):Math.ceil((x-g)/b);var E={event:k,startIndex:T,endIndex:H};s=f[T].events,s?s.push(E):(s=[],s.push(E),f[T].events=s)}else{if(v>=x||C>=c)continue;D=!0;var M;M=v>=C?0:(C-v)/m;var V;V=x>=c?(c-v)/m:(x-v)/m;var $,I=Math.floor(M),S=Math.ceil(V-y),O=I%24,_=Math.floor(I/24),A=24*_,L=0,P=0;1!==l.hourParts&&(L=Math.floor((M-I)*l.hourParts));do{A+=24,S>=A?$=24:($=S%24,1!==l.hourParts&&(P=Math.floor((S-V)*l.hourParts)));var F={event:k,startIndex:O,endIndex:$,startOffset:L,endOffset:P};s=u[O][_].events,s?s.push(F):(s=[],s.push(F),u[O][_].events=s),O=0,L=0,_+=1}while(S>A)}}if(D)for(a=0;7>a;a+=1){var W=[];for(n=0;24>n;n+=1)u[n][a].events&&(u[n][a].events.sort(i),W=W.concat(u[n][a].events));W.length>0&&l.placeEvents(W)}if(p){var j=[];for(a=0;7>a;a+=1)f[a].events&&(j=j.concat(f[a].events));j.length>0&&l.placeAllDayEvents(j)}},l._getRange=function(e){var t,a,n=e.getFullYear(),s=e.getMonth(),d=e.getDate(),i=e.getDay(),r=i-l.startingDayWeek;return 0>r&&(r+=7),t=new Date(n,s,d-r),a=new Date(n,s,d-r+7),{startTime:t,endTime:a}},l.registerSlideChanged(t),l.refreshView()}}}]).directive("dayview",["dateFilter",function(e){"use strict";return{restrict:"EA",replace:!0,templateUrl:"templates2/rcalendar/day.html",require:"^calendar",link:function(t,a,n,l){function s(e){for(var t,a=[],n=e.getHours(),l=e.getDate(),s=0;24>s;s+=1)t=new Date(e.getTime()),t.setHours(n+s),t.setDate(l),a.push({time:t});return a}function d(e,t){return e.startOffset-t.startOffset}t.formatHourColumn=l.formatHourColumn,l.mode={step:{days:1}},t.allDayLabel=l.allDayLabel,t.hourParts=l.hourParts,t.select=function(e,a){t.timeSelected&&t.timeSelected({selectedTime:e,events:a})},l._onDataLoaded=function(){var e,a,n=l.eventSource,s=n?n.length:0,i=l.range.startTime,r=l.range.endTime,v=-(new Date).getTimezoneOffset(),c=new Date(i.getTime()+60*v*1e3),o=new Date(r.getTime()+60*v*1e3),g=t.currentViewIndex,w=t.views[g].rows,h=t.views[g].allDayEvents=[],u=36e5,f=.016,m=!1;for(e=0;24>e;e+=1)w[e].events=[];for(var b=0;s>b;b+=1){var y=n[b],p=new Date(y.startTime),D=new Date(y.endTime);if(y.allDay){if(c>=D||p>=o)continue;h.push({event:y})}else{if(i>=D||p>=r)continue;m=!0;var k;k=i>=p?0:(p-i)/u;var C;C=D>=r?(r-i)/u:(D-i)/u;var x=Math.floor(k),T=Math.ceil(C-f),H=0,E=0;1!==l.hourParts&&(H=Math.floor((k-x)*l.hourParts),E=Math.floor((T-C)*l.hourParts));var M={event:y,startIndex:x,endIndex:T,startOffset:H,endOffset:E};a=w[x].events,a?a.push(M):(a=[],a.push(M),w[x].events=a)}}if(m){var V=[];for(e=0;24>e;e+=1)w[e].events&&(w[e].events.sort(d),V=V.concat(w[e].events));V.length>0&&l.placeEvents(V)}},l._refreshView=function(){l.populateAdjacentViews(t)},l._getTitle=function(){var t=l.range.startTime;return e(t,l.formatDayTitle)},l._getViewData=function(e){return{rows:s(e),allDayEvents:[]}},l._getRange=function(e){var t=e.getFullYear(),a=e.getMonth(),n=e.getDate(),l=new Date(t,a,n),s=new Date(t,a,n+1);return{startTime:l,endTime:s}},l.registerSlideChanged(t),l.refreshView()}}}]),angular.module("templates2/rcalendar/calendar.html",[]).run(["$templateCache",function(e){e.put("templates2/rcalendar/calendar.html",'<div class="calendar-container" ng-switch="calendarMode">\n    <dayview ng-switch-when="day"></dayview>\n    <monthview ng-switch-when="month"></monthview>\n    <weekview ng-switch-when="week"></weekview>\n</div>')}]),angular.module("templates2/rcalendar/day.html",[]).run(["$templateCache",function(e){e.put("templates2/rcalendar/day.html",'<div class="dayview">\n    <ion-slide-box class="dayview-slide" on-slide-changed="slideChanged($index)" does-continue="true"\n                   show-pager="false" delegate-handle="dayview-slide">\n        <ion-slide ng-repeat="view in views track by $index">\n            <div class="dayview-allday-table">\n                <div class="dayview-allday-label" ng-bind="::allDayLabel"></div>\n                <ion-content class="dayview-allday-content-wrapper" has-bouncing="false" overflow-scroll="false">\n                    <table class="table table-bordered dayview-allday-content-table">\n                        <tbody>\n                        <tr>\n                            <td class="calendar-cell" ng-class="{\'calendar-event-wrap\':allDayEvents}"\n                                ng-if="$index===currentViewIndex" ng-style="{height: 25*day.events.length+\'px\'}">\n                                <div ng-repeat="displayEvent in view.allDayEvents" class="calendar-event"\n                                     ng-click="eventSelected({event:displayEvent.event})"\n                                     ng-style="{top: 25*$index+\'px\',width: \'100%\',height:\'25px\'}">\n                                    <div class="calendar-event-inner">{{displayEvent.event.title}}</div>\n                                </div>\n                            </td>\n                            <td class="calendar-cell" ng-if="$index!==currentViewIndex">\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </ion-content>\n            </div>\n            <ion-content class="dayview-normal-event-container" has-bouncing="false" overflow-scroll="false">\n                <table class="table table-bordered table-fixed dayview-normal-event-table"\n                       ng-if="$index===currentViewIndex">\n                    <tbody>\n                    <tr ng-repeat="tm in view.rows track by $index">\n                        <td class="calendar-hour-column text-center">\n                            {{::tm.time | date: formatHourColumn}}\n                        </td>\n                        <td class="calendar-cell" ng-click="select(tm.time, tm.events)">\n                            <div ng-class="{\'calendar-event-wrap\': tm.events}" ng-if="tm.events">\n                                <div ng-repeat="displayEvent in tm.events" class="calendar-event"\n                                     ng-click="eventSelected({event:displayEvent.event})"\n                                     ng-style="{top: (37*displayEvent.startOffset/hourParts)+\'px\', left: 100/displayEvent.overlapNumber*displayEvent.position+\'%\', width: 100/displayEvent.overlapNumber+\'%\', height: 37*(displayEvent.endIndex -displayEvent.startIndex - (displayEvent.endOffset + displayEvent.startOffset)/hourParts)+\'px\'}">\n                                    <div class="calendar-event-inner">{{displayEvent.event.title}}</div>\n                                </div>\n                            </div>\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n                <table class="table table-bordered table-fixed dayview-normal-event-table"\n                       ng-if="$index!==currentViewIndex">\n                    <tbody>\n                    <tr ng-repeat="tm in view.rows track by $index">\n                        <td class="calendar-hour-column text-center">\n                            {{::tm.time | date: formatHourColumn}}\n                        </td>\n                        <td class="calendar-cell">\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n            </ion-content>\n        </ion-slide>\n    </ion-slide-box>\n</div>')}]),angular.module("templates2/rcalendar/month.html",[]).run(["$templateCache",function(e){e.put("templates2/rcalendar/month.html",'<div>\n    <ion-slide-box class="monthview-slide" on-slide-changed="slideChanged($index)" does-continue="true"\n                   show-pager="false" delegate-handle="monthview-slide">\n        <ion-slide ng-repeat="view in views track by $index">\n            <table ng-if="$index===currentViewIndex" class="table table-bordered table-fixed monthview-datetable">\n                <thead>\n                <tr>\n                    <th ng-repeat="day in view.dates.slice(0,7) track by day.date">\n                        <small>{{::day.date | date: formatDayHeader}}</small>\n                    </th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr>\n                    <td ng-click="select(view.dates[0].date, view.dates[0].events)"\n                        ng-class="getHighlightClass(view.dates[0])">{{view.dates[0].label}}\n                    </td>\n                    <td ng-click="select(view.dates[1].date, view.dates[1].events)"\n                        ng-class="getHighlightClass(view.dates[1])">{{view.dates[1].label}}\n                    </td>\n                    <td ng-click="select(view.dates[2].date, view.dates[2].events)"\n                        ng-class="getHighlightClass(view.dates[2])">{{view.dates[2].label}}\n                    </td>\n                    <td ng-click="select(view.dates[3].date, view.dates[3].events)"\n                        ng-class="getHighlightClass(view.dates[3])">{{view.dates[3].label}}\n                    </td>\n                    <td ng-click="select(view.dates[4].date, view.dates[4].events)"\n                        ng-class="getHighlightClass(view.dates[4])">{{view.dates[4].label}}\n                    </td>\n                    <td ng-click="select(view.dates[5].date, view.dates[5].events)"\n                        ng-class="getHighlightClass(view.dates[5])">{{view.dates[5].label}}\n                    </td>\n                    <td ng-click="select(view.dates[6].date, view.dates[6].events)"\n                        ng-class="getHighlightClass(view.dates[6])">{{view.dates[6].label}}\n                    </td>\n                </tr>\n                <tr>\n                    <td ng-click="select(view.dates[7].date, view.dates[7].events)"\n                        ng-class="getHighlightClass(view.dates[7])">{{view.dates[7].label}}\n                    </td>\n                    <td ng-click="select(view.dates[8].date, view.dates[8].events)"\n                        ng-class="getHighlightClass(view.dates[8])">{{view.dates[8].label}}\n                    </td>\n                    <td ng-click="select(view.dates[9].date, view.dates[9].events)"\n                        ng-class="getHighlightClass(view.dates[9])">{{view.dates[9].label}}\n                    </td>\n                    <td ng-click="select(view.dates[10].date, view.dates[10].events)"\n                        ng-class="getHighlightClass(view.dates[10])">{{view.dates[10].label}}\n                    </td>\n                    <td ng-click="select(view.dates[11].date, view.dates[11].events)"\n                        ng-class="getHighlightClass(view.dates[11])">{{view.dates[11].label}}\n                    </td>\n                    <td ng-click="select(view.dates[12].date, view.dates[12].events)"\n                        ng-class="getHighlightClass(view.dates[12])">{{view.dates[12].label}}\n                    </td>\n                    <td ng-click="select(view.dates[13].date, view.dates[13].events)"\n                        ng-class="getHighlightClass(view.dates[13])">{{view.dates[13].label}}\n                    </td>\n                </tr>\n                <tr>\n                    <td ng-click="select(view.dates[14].date, view.dates[14].events)"\n                        ng-class="getHighlightClass(view.dates[14])">{{view.dates[14].label}}\n                    </td>\n                    <td ng-click="select(view.dates[15].date, view.dates[15].events)"\n                        ng-class="getHighlightClass(view.dates[15])">{{view.dates[15].label}}\n                    </td>\n                    <td ng-click="select(view.dates[16].date, view.dates[16].events)"\n                        ng-class="getHighlightClass(view.dates[16])">{{view.dates[16].label}}\n                    </td>\n                    <td ng-click="select(view.dates[17].date, view.dates[17].events)"\n                        ng-class="getHighlightClass(view.dates[17])">{{view.dates[17].label}}\n                    </td>\n                    <td ng-click="select(view.dates[18].date, view.dates[18].events)"\n                        ng-class="getHighlightClass(view.dates[18])">{{view.dates[18].label}}\n                    </td>\n                    <td ng-click="select(view.dates[19].date, view.dates[19].events)"\n                        ng-class="getHighlightClass(view.dates[19])">{{view.dates[19].label}}\n                    </td>\n                    <td ng-click="select(view.dates[20].date, view.dates[20].events)"\n                        ng-class="getHighlightClass(view.dates[20])">{{view.dates[20].label}}\n                    </td>\n                </tr>\n                <tr>\n                    <td ng-click="select(view.dates[21].date, view.dates[21].events)"\n                        ng-class="getHighlightClass(view.dates[21])">{{view.dates[21].label}}\n                    </td>\n                    <td ng-click="select(view.dates[22].date, view.dates[22].events)"\n                        ng-class="getHighlightClass(view.dates[22])">{{view.dates[22].label}}\n                    </td>\n                    <td ng-click="select(view.dates[23].date, view.dates[23].events)"\n                        ng-class="getHighlightClass(view.dates[23])">{{view.dates[23].label}}\n                    </td>\n                    <td ng-click="select(view.dates[24].date, view.dates[24].events)"\n                        ng-class="getHighlightClass(view.dates[24])">{{view.dates[24].label}}\n                    </td>\n                    <td ng-click="select(view.dates[25].date, view.dates[25].events)"\n                        ng-class="getHighlightClass(view.dates[25])">{{view.dates[25].label}}\n                    </td>\n                    <td ng-click="select(view.dates[26].date, view.dates[26].events)"\n                        ng-class="getHighlightClass(view.dates[26])">{{view.dates[26].label}}\n                    </td>\n                    <td ng-click="select(view.dates[27].date, view.dates[27].events)"\n                        ng-class="getHighlightClass(view.dates[27])">{{view.dates[27].label}}\n                    </td>\n                </tr>\n                <tr>\n                    <td ng-click="select(view.dates[28].date, view.dates[28].events)"\n                        ng-class="getHighlightClass(view.dates[28])">{{view.dates[28].label}}\n                    </td>\n                    <td ng-click="select(view.dates[29].date, view.dates[29].events)"\n                        ng-class="getHighlightClass(view.dates[29])">{{view.dates[29].label}}\n                    </td>\n                    <td ng-click="select(view.dates[30].date, view.dates[30].events)"\n                        ng-class="getHighlightClass(view.dates[30])">{{view.dates[30].label}}\n                    </td>\n                    <td ng-click="select(view.dates[31].date, view.dates[31].events)"\n                        ng-class="getHighlightClass(view.dates[31])">{{view.dates[31].label}}\n                    </td>\n                    <td ng-click="select(view.dates[32].date, view.dates[32].events)"\n                        ng-class="getHighlightClass(view.dates[32])">{{view.dates[32].label}}\n                    </td>\n                    <td ng-click="select(view.dates[33].date, view.dates[33].events)"\n                        ng-class="getHighlightClass(view.dates[33])">{{view.dates[33].label}}\n                    </td>\n                    <td ng-click="select(view.dates[34].date, view.dates[34].events)"\n                        ng-class="getHighlightClass(view.dates[34])">{{view.dates[34].label}}\n                    </td>\n                </tr>\n                <tr>\n                    <td ng-click="select(view.dates[35].date, view.dates[35].events)"\n                        ng-class="getHighlightClass(view.dates[35])">{{view.dates[35].label}}\n                    </td>\n                    <td ng-click="select(view.dates[36].date, view.dates[36].events)"\n                        ng-class="getHighlightClass(view.dates[36])">{{view.dates[36].label}}\n                    </td>\n                    <td ng-click="select(view.dates[37].date, view.dates[37].events)"\n                        ng-class="getHighlightClass(view.dates[37])">{{view.dates[37].label}}\n                    </td>\n                    <td ng-click="select(view.dates[38].date, view.dates[38].events)"\n                        ng-class="getHighlightClass(view.dates[38])">{{view.dates[38].label}}\n                    </td>\n                    <td ng-click="select(view.dates[39].date, view.dates[39].events)"\n                        ng-class="getHighlightClass(view.dates[39])">{{view.dates[39].label}}\n                    </td>\n                    <td ng-click="select(view.dates[40].date, view.dates[40].events)"\n                        ng-class="getHighlightClass(view.dates[40])">{{view.dates[40].label}}\n                    </td>\n                    <td ng-click="select(view.dates[41].date, view.dates[41].events)"\n                        ng-class="getHighlightClass(view.dates[41])">{{view.dates[41].label}}\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n            <table ng-if="$index!==currentViewIndex" class="table table-bordered table-fixed monthview-datetable">\n                <thead>\n                <tr class="text-center">\n                    <th ng-repeat="day in view.dates.slice(0,7) track by day.date">\n                        <small>{{::day.date | date: formatDayHeader}}</small>\n                    </th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr>\n                    <td>{{view.dates[0].label}}</td>\n                    <td>{{view.dates[1].label}}</td>\n                    <td>{{view.dates[2].label}}</td>\n                    <td>{{view.dates[3].label}}</td>\n                    <td>{{view.dates[4].label}}</td>\n                    <td>{{view.dates[5].label}}</td>\n                    <td>{{view.dates[6].label}}</td>\n                </tr>\n                <tr>\n                    <td>{{view.dates[7].label}}</td>\n                    <td>{{view.dates[8].label}}</td>\n                    <td>{{view.dates[9].label}}</td>\n                    <td>{{view.dates[10].label}}</td>\n                    <td>{{view.dates[11].label}}</td>\n                    <td>{{view.dates[12].label}}</td>\n                    <td>{{view.dates[13].label}}</td>\n                </tr>\n                <tr>\n                    <td>{{view.dates[14].label}}</td>\n                    <td>{{view.dates[15].label}}</td>\n                    <td>{{view.dates[16].label}}</td>\n                    <td>{{view.dates[17].label}}</td>\n                    <td>{{view.dates[18].label}}</td>\n                    <td>{{view.dates[19].label}}</td>\n                    <td>{{view.dates[20].label}}</td>\n                </tr>\n                <tr>\n                    <td>{{view.dates[21].label}}</td>\n                    <td>{{view.dates[22].label}}</td>\n                    <td>{{view.dates[23].label}}</td>\n                    <td>{{view.dates[24].label}}</td>\n                    <td>{{view.dates[25].label}}</td>\n                    <td>{{view.dates[26].label}}</td>\n                    <td>{{view.dates[27].label}}</td>\n                </tr>\n                <tr>\n                    <td>{{view.dates[28].label}}</td>\n                    <td>{{view.dates[29].label}}</td>\n                    <td>{{view.dates[30].label}}</td>\n                    <td>{{view.dates[31].label}}</td>\n                    <td>{{view.dates[32].label}}</td>\n                    <td>{{view.dates[33].label}}</td>\n                    <td>{{view.dates[34].label}}</td>\n                </tr>\n                <tr>\n                    <td>{{view.dates[35].label}}</td>\n                    <td>{{view.dates[36].label}}</td>\n                    <td>{{view.dates[37].label}}</td>\n                    <td>{{view.dates[38].label}}</td>\n                    <td>{{view.dates[39].label}}</td>\n                    <td>{{view.dates[40].label}}</td>\n                    <td>{{view.dates[41].label}}</td>\n                </tr>\n                </tbody>\n            </table>\n        </ion-slide>\n    </ion-slide-box>\n    <ion-content class="event-detail-container" has-bouncing="false" ng-show="showEventDetail" overflow-scroll="false">\n        <table class="table table-bordered table-striped table-fixed event-detail-table">\n            <tr ng-repeat="event in selectedDate.events" ng-click="eventSelected({event:event})">\n                <td ng-if="!event.allDay" class="monthview-eventdetail-timecolumn">{{::event.startTime|date: \'HH:mm\'}}\n                    -\n                    {{::event.endTime|date: \'HH:mm\'}}\n                </td>\n                <td ng-if="event.allDay" class="monthview-eventdetail-timecolumn">All day</td>\n                <td class="event-detail">{{::event.title}}</td>\n            </tr>\n            <tr ng-if="!selectedDate.events">\n                <td class="no-event-label" ng-bind="::noEventsLabel"></td>\n            </tr>\n        </table>\n    </ion-content>\n</div>\n')}]),angular.module("templates2/rcalendar/week.html",[]).run(["$templateCache",function(e){
e.put("templates2/rcalendar/week.html",'<div class="weekview">\n    <ion-slide-box class="weekview-slide" on-slide-changed="slideChanged($index)" does-continue="true"\n                   show-pager="false" delegate-handle="weekview-slide">\n        <ion-slide ng-repeat="view in views track by $index">\n            <table class="table table-bordered table-fixed weekview-header">\n                <thead>\n                <tr>\n                    <th class="calendar-hour-column"></th>\n                    <th class="weekview-header text-center" ng-repeat="dt in view.dates">{{::dt.date| date:\n                        formatWeekViewDayHeader}}\n                    </th>\n                </tr>\n                </thead>\n            </table>\n            <div ng-if="$index===currentViewIndex">\n                <div class="weekview-allday-table">\n                    <div class="weekview-allday-label" ng-bind="::allDayLabel">\n                    </div>\n                    <ion-content class="weekview-allday-content-wrapper" has-bouncing="false" overflow-scroll="false">\n                        <table class="table table-fixed weekview-allday-content-table">\n                            <tbody>\n                            <tr>\n                                <td ng-repeat="day in view.dates track by day.date" class="calendar-cell">\n                                    <div ng-class="{\'calendar-event-wrap\': day.events}" ng-if="day.events"\n                                         ng-style="{height: 25*day.events.length+\'px\'}">\n                                        <div ng-repeat="displayEvent in day.events" class="calendar-event"\n                                             ng-click="eventSelected({event:displayEvent.event})"\n                                             ng-style="{top: 25*displayEvent.position+\'px\', width: 100*(displayEvent.endIndex-displayEvent.startIndex)+\'%\', height: \'25px\'}">\n                                            <div class="calendar-event-inner">{{displayEvent.event.title}}</div>\n                                        </div>\n                                    </div>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </ion-content>\n                </div>\n                <ion-content class="weekview-normal-event-container" has-bouncing="false" overflow-scroll="false">\n                    <table class="table table-bordered table-fixed weekview-normal-event-table">\n                        <tbody>\n                        <tr ng-repeat="row in view.rows track by $index">\n                            <td class="calendar-hour-column text-center">\n                                {{::row[0].time | date: formatHourColumn}}\n                            </td>\n                            <td ng-repeat="tm in row track by tm.time" class="calendar-cell" ng-click="select(tm.time, tm.events)">\n                                <div ng-class="{\'calendar-event-wrap\': tm.events}" ng-if="tm.events">\n                                    <div ng-repeat="displayEvent in tm.events" class="calendar-event"\n                                         ng-click="eventSelected({event:displayEvent.event})"\n                                         ng-style="{top: (37*displayEvent.startOffset/hourParts)+\'px\',left: 100/displayEvent.overlapNumber*displayEvent.position+\'%\', width: 100/displayEvent.overlapNumber+\'%\', height: 37*(displayEvent.endIndex -displayEvent.startIndex - (displayEvent.endOffset + displayEvent.startOffset)/hourParts)+\'px\'}">\n                                        <div class="calendar-event-inner">{{displayEvent.event.title}}</div>\n                                    </div>\n                                </div>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </ion-content>\n            </div>\n            <div ng-if="$index!==currentViewIndex">\n                <div class="weekview-allday-table">\n                    <div class="weekview-allday-label" ng-bind="::allDayLabel"></div>\n                    <ion-content class="weekview-allday-content-wrapper" has-bouncing="false" overflow-scroll="false">\n                        <table class="table table-fixed weekview-allday-content-table">\n                            <tbody>\n                            <tr>\n                                <td ng-repeat="day in view.dates track by day.date" class="calendar-cell">\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </ion-content>\n                </div>\n                <ion-content class="weekview-normal-event-container" has-bouncing="false" overflow-scroll="false">\n                    <table class="table table-bordered table-fixed weekview-normal-event-table">\n                        <tbody>\n                        <tr ng-repeat="row in view.rows track by $index">\n                            <td class="calendar-hour-column text-center">\n                                {{::row[0].time | date: formatHourColumn}}\n                            </td>\n                            <td ng-repeat="tm in row track by tm.time" class="calendar-cell">\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </ion-content>\n            </div>\n        </ion-slide>\n    </ion-slide-box>\n</div>')}]);
